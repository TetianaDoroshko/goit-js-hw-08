{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEAC,KAAO,CACLC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,kBACjCE,WAAYH,SAASC,cAAc,oBACnCG,UAAWJ,SAASC,cAAc,oBAGpC,IAoBgBI,EAEMC,EACEC,EAvBlBC,EAAM,sBAENC,EACJ,SAAQC,GACNC,aAAaC,QAAQJ,EAAKK,KAAKC,UAAUJ,KAFvCD,EAWJ,SAAWM,GACLJ,aAAaK,QAAQD,IACvBJ,aAAaM,WAAWF,IAKxBG,EAA8B,QAApBb,EAdd,SAAQU,GACN,IACE,OAAOF,KAAKM,MAAMR,aAAaK,QAAQD,IACvC,MAAAK,GACAC,QAAQC,IAAI,6CAUFb,CAAgBD,UAAI,IAApBH,EAAAA,EAAwB,GAExCP,KAAKI,SAASqB,MAAqB,QAAbjB,EAAAY,EAAQM,aAAK,IAAblB,EAAAA,EAAiB,GACvCR,KAAKK,WAAWoB,MAAuB,QAAfhB,EAAAW,EAAQO,eAAO,IAAflB,EAAAA,EAAmB,GAE3CT,KAAKC,KAAK2B,iBAAiB,QAAS9B,GAEpC,SAAsB+B,GACpBT,EAAQS,EAAMC,OAAOC,MAAQF,EAAMC,OAAOL,MAC1Cd,EAAgBS,KAJyC,MAO3DpB,KAAKC,KAAK2B,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAMG,iBACNT,QAAQC,IAAIJ,GACZS,EAAMI,cAAcC,QACpBvB,EAAmBD","sources":["src/js/03-feedback.js"],"sourcesContent":["const throttle = require('lodash.throttle');\n\nrefs = {\n  form: document.querySelector('.feedback-form'),\n  inpEmail: document.querySelector('[name=\"email\"]'),\n  inpMessage: document.querySelector('[name=\"message\"]'),\n  btnSubmit: document.querySelector('[type=\"submit\"]'),\n};\n\nconst KEY = 'feedback-form-state';\n\nconst storage = {\n  setItem(data) {\n    localStorage.setItem(KEY, JSON.stringify(data));\n  },\n  getItem(key) {\n    try {\n      return JSON.parse(localStorage.getItem(key));\n    } catch {\n      console.log('Error of parsing data from Local Storage');\n    }\n  },\n  removeItem(key) {\n    if (localStorage.getItem(key)) {\n      localStorage.removeItem(key);\n    }\n  },\n};\n\nconst dataObj = storage.getItem(KEY) ?? {};\n\nrefs.inpEmail.value = dataObj.email ?? '';\nrefs.inpMessage.value = dataObj.message ?? '';\n\nrefs.form.addEventListener('input', throttle(saveUserData, 500));\n\nfunction saveUserData(event) {\n  dataObj[event.target.name] = event.target.value;\n  storage.setItem(dataObj);\n}\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  console.log(dataObj);\n  event.currentTarget.reset();\n  storage.removeItem(KEY);\n}\n"],"names":["$dCfNN","parcelRequire","refs","form","document","querySelector","inpEmail","inpMessage","btnSubmit","ref","_email","_message","$b00c40859be242c5$var$KEY","$b00c40859be242c5$var$storage","data","localStorage","setItem","JSON","stringify","key","getItem","removeItem","$b00c40859be242c5$var$dataObj","parse","e","console","log","value","email","message","addEventListener","event","target","name","preventDefault","currentTarget","reset"],"version":3,"file":"03-feedback.5423a0a8.js.map"}