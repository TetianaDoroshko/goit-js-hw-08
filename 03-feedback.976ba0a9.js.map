{"mappings":"gfAAA,IA6BgBA,EAEMC,EACEC,EAhCxBC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,kBACjCE,WAAYH,SAASC,cAAc,oBACnCG,UAAWJ,SAASC,cAAc,oBAG9BI,EAAM,sBAENC,EACJ,SAAQC,GACNC,aAAaC,QAAQJ,EAAKK,KAAKC,UAAUJ,KAFvCD,EAWJ,SAAWM,GACLJ,aAAaK,QAAQD,IACvBJ,aAAaM,WAAWF,IAKxBG,EAA8B,QAApBtB,EAdd,SAAQmB,GACN,IACE,OAAOF,KAAKM,MAAMR,aAAaK,QAAQD,IACvC,MAAAK,GACAC,QAAQC,IAAI,6CAUFb,CAAgBD,UAAI,IAApBZ,EAAAA,EAAwB,GAExCK,EAAKI,SAASkB,MAAqB,QAAb1B,EAAAqB,EAAQM,aAAK,IAAb3B,EAAAA,EAAiB,GACvCI,EAAKK,WAAWiB,MAAuB,QAAfzB,EAAAoB,EAAQO,eAAO,IAAf3B,EAAAA,EAAmB,GAE3CG,EAAKC,KAAKwB,iBAAiB,QAAS3B,GAEpC,SAAsB4B,GACpBT,EAAQS,EAAMC,OAAOC,MAAQF,EAAMC,OAAOL,MAC1Cd,EAAgBS,KAJyC,MAO3DjB,EAAKC,KAAKwB,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAMG,iBACNT,QAAQC,IAAIJ,GACZS,EAAMI,cAAcC,QACpBvB,EAAmBD","sources":["src/js/03-feedback.js"],"sourcesContent":["const throttle = require('lodash.throttle');\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  inpEmail: document.querySelector('[name=\"email\"]'),\n  inpMessage: document.querySelector('[name=\"message\"]'),\n  btnSubmit: document.querySelector('[type=\"submit\"]'),\n};\n\nconst KEY = 'feedback-form-state';\n\nconst storage = {\n  setItem(data) {\n    localStorage.setItem(KEY, JSON.stringify(data));\n  },\n  getItem(key) {\n    try {\n      return JSON.parse(localStorage.getItem(key));\n    } catch {\n      console.log('Error of parsing data from Local Storage');\n    }\n  },\n  removeItem(key) {\n    if (localStorage.getItem(key)) {\n      localStorage.removeItem(key);\n    }\n  },\n};\n\nconst dataObj = storage.getItem(KEY) ?? {};\n\nrefs.inpEmail.value = dataObj.email ?? '';\nrefs.inpMessage.value = dataObj.message ?? '';\n\nrefs.form.addEventListener('input', throttle(saveUserData, 500));\n\nfunction saveUserData(event) {\n  dataObj[event.target.name] = event.target.value;\n  storage.setItem(dataObj);\n}\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  console.log(dataObj);\n  event.currentTarget.reset();\n  storage.removeItem(KEY);\n}\n"],"names":["ref","_email","_message","$dCfNN","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","inpEmail","inpMessage","btnSubmit","$b00c40859be242c5$var$KEY","$b00c40859be242c5$var$storage","data","localStorage","setItem","JSON","stringify","key","getItem","removeItem","$b00c40859be242c5$var$dataObj","parse","e","console","log","value","email","message","addEventListener","event","target","name","preventDefault","currentTarget","reset"],"version":3,"file":"03-feedback.976ba0a9.js.map"}